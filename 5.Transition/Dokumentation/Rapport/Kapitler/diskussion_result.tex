\section{Diskussion af resultater}

I dette afsnit beskrives og diskuteres de resultater gruppen opnåede og der laves en beskrivelse af de punkter der kunne være lavet på bedre, smartere eller anderledes vis. Diskussionen tager udgangspunkt i de opnåede resultater beskrevet i resultatafsnittet.

Accepttesten forløb stort set som planlagt indtil test case 4-6, som omhandlede opsamling af billeder, visning af billeder og tilføjelse af antikollision. Test case 4-6 blev ikke godkendt, da de kun blev designet og ikke implementeret. Da arbejdsprocessen var planlagt i iterationer, var de fejlene test cases ikke kritiske for det resterende system.\\

\textbf{Drone}\\
Drone kan under flyvning finde nuværende flyvehøjde, flyveretning og GPS position ved aflæsning af data fra ultralydssensor, kompas og GPS.  Ud fra det aflæste data tilpasses flyveindstillinger. Via det mobile 3G-netværk sender drone information om nuværende position til server og henter flyveopsætninger fra server.

Tilpasning af flyveindstillinger er implementeret i en tre trin. Først tilpasses flyvehøjde, dernæst tilpasses flyveretning og når både flyvehøjde og flyveretning er tilpasset flyves der fremad. Hver del er implementeret og fungerer hver for sig selv, men samlet set fungerer det ikke optimalt pga. manglende optimering. Til justering af flyvehøjde og flyveorientering kunne der med fordel være gjort brug af PID regulering.  I implementerings fasen opstod problemer med timing, specielt når 3G/GPS modulet blev brugt. Ved at indføre brug af flertrådet main controller kunne disse problemer undgås. \\


\textbf{Webapplikation}\\
Før systemets bruger kan få lov at tilgå webapplikationens funktionalitet er login påkrævet. Efter succesfuld login hentes og fremvises data fra server.
Når bruger er logget ind kan der laves nye flyveopsætninger, men pga. manglede implementering kan webapplikationen ikke sende de nyoprettede flyveopsætninger til server.

Overordnet designvalg til webapplikation har fungeret tilfredsstillende. Dette har betydet at der undervejs i projektet ikke er lavet væsentlige ændringer i design og brug af udviklingsværktøjer. Webapplikationen er udviklet ved brug AngularJS, CSS3 og HTML5. Server er udviklet med en kombination af Django og Django-REST-framework, på samme vis kunne webapplikationen været blevet udviklet. Men server og webapplikation er bevist udviklet adskilt og med forskellige værktøjer. Dette er gjort for at bevise at der er lav kobling mellem server og webapplikation, og for at undgå problemer med syntaks. 

\newpage

\textbf{Server}\\
Det er lykkedes at implementere en fuld funktionel server, der fungerer som bindeled mellem drone og webapplikation. Serveren er implementeret som en passiv enhed, der er ansvarlig for håndtering af systemets data og tilgås via HTTP protokollen. 

Billeder i serverens database er koblet op til events, de kunne med fordel i stedet være koblet til waypoints. Udover dette har de overordnet server design valg fungeret tilfredsstillende. Hvilket har betydet at der er blevet holdt fast i de værktøjer og beslutninger, der blev truffet i starten af projektet. Eksempelvis indeholder server en SQLite database, som til projektet har fungeret fint. Der kunne dog i stedet være gjort brug af en MongoDB database, der er en database type der håndterer data som objekter.


\newpage

\subsection{Færdig udvikling}
Dette afsnit beskriver hvordan det resten af systemet kan implementeres. Før videreudvikling kan foretages, skal færdig udvikling være gennemført.

\subsubsection*{Test case 4}
For at test case 4 kan gennemføres succesfuld, skal kameraet implementeres. 
Sekvens og klasse diagrammer er designet, så kamera klassen skal oprettes med de metoder beskrevet i klasse diagrammet og funktionaliteten skal implementeres. Klassen skal være i stand til at tage billedet, sende billedet til server og hente en godkendelse ned fra serveren.

\subsubsection*{Test case 5}

\subsubsection*{Test case 6}
Test case 6 indeholder antikollision. Antikollision skal sikre at dronen ikke flyver ind i genstande. For at implementere antikollisions funktionaliteten, skal der gøres brug af DistanceSensor klassen. Denne klasse indeholder metoder til at aflæse værdi fra de valgte sensorer. 


\subsection{Videreudvikling}

Dette afsnit beskriver hvilke muligheder der er for at videreudvikle projektet. 

\subsubsection*{Optimering af sensorer}

Til styring af flyvehøjden kunne der have været anvendt en anden teknologi eller en blanding af det anvendte og en ny teknologi. Dronen bruger en ultralydssensor til måling af højden, men der er en begrænsning på afstanden den kan måle. Sensorerne fungerer til flyvehøjder indenfor en bestemt rækkevidde, når dronen kommer udenfor rækkevidden vil ultralydssensorer ikke længere fungere. Det vil derfor være brugbart at anvende en teknologi der kan måle en højere højde. 

\textbf{GPS}\\
Idet dronen allerede anvender et GPS modul, kan dette udvides til også at måle højden. Nutidens GPS moduler kan udover at give GPS koordinater også angive højden.

\textbf{Barometer}\\ 
Et barometer kan anvendes som ekstra teknologi. Et barometer aflæser lufttrykket og omregner den til en højde i forehold til havoverfladen. Dronen vil ikke kunne detektere hvis den flyver over en bakke, hvilket gør at barometeret helst skal bruges sammen med en anden teknologi. På flight control boarded forefindes et barometer. 


En kombination af 2 teknologier vil gøre, at ultralydssensoren kan anvendes når dronen skal lette eller lande, hvor den anden teknologi skal bruges under flyvningen. Dette vil være en stabil løsning, da begge teknologier har stærke og svage sider, hvor de svage fjernes ved brug af 2 teknologier.

\subsubsection*{PID regulering}

Dronen anvender regulering til flyvehøjde og orienteringen. Disse to parametre skal konstant reguleres for at sikre at den ikke flyver i den ønskede retning. \\
Den nuværende regulering er bygget op omkring højdemåling og kompas. Ud fra værdierne af sensorerne, afgøres der om der skal reguleres. Der tages ikke forbehold for tidligere fejl ved denne implementerede regulering og derfor vil dronen svinge meget i højde.

For at kompensere for udsving, kan PID regulering anvendes. PID regulering måler nuværende fejl og sammenligner med den tidligere fejl og indstiller reguleringen derefter. Det vil give en flydende overgang og en stabil drone. Denne regulering vil tilpasse sig omstændighederne og er derved dynamisk.

\subsubsection*{Flertrådet main controller}

Main controlleren har kun mulighed for at udføre en kommando afgangen. Dette giver ikke nogle problemer, men når der ikke er nogen prioriteringsliste, vil kritiske metoder kunne komme til at vente hvis en mindre kritisk og tidskrævende metode afvikles. 
3G/GPS modulet er tidskrævende og ikke særlig kritisk, hvormed prioritering for at anvende modulet ligger lavt. Men 3G/GPS modulet har samme prioritet som flight control og kan være i brug under kritiske situationer. 

Ved at anvende et flertrådet system, kan disse prioriteringer optimeres. Et flertrådet system tillader at køre flere processer parallelt. Ved at implementere et flertrådet system, vil 3G/GPS modulet kunne køre parallelt med flight control, således at dronen altid har mulighed for at korrigere for eventuelle hændelser. 


