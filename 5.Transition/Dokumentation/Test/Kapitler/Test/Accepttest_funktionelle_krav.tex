\chapter{Funktionelle krav}
Dette afsnit specificerer accepttesten af den Autonome overvågningsdrone.

\section*{Formål}
Dokumentet specificerer accepttests og vil i udfyldt stand udgøre accepttest tilhørende funktionelle krav. 

\section*{Godkendelseskriterier}
Godkendelsen af accepttesten består af to trin:

\begin{enumerate}
	\item Godkendelse af accepttestspecifikationen. \\
	Dette gøres på bagsiden af dokumentet i "Godkendt af" feltet.

	\item Godkendelse af selve accepttesten. Dette gøres i afsnit Testresultat. 
\end{enumerate}

Accepttesten er afsluttet, når alle testcases er testet.

Hvis der under accepttesten opstår fejl, der umuliggør fortsat udførsel af de efterfølgende testcases afbrydes denne test.

Hvis der opstår fejl i enkelte testcases; men fortsat accepttest er mulig, underkendes den enkelte test og accepttesten fortsættes med efterfølgende testcases.

Såfremt en test afbrydes eller et testcase underkendes, skal der udfærdiges en problemrapport, der beskriver årsagen til underkendelse. Problemrapporten godkendes af både internt og af kunde eller produkt manager.

\newpage

\section*{Testspecifikation}
Software der skal testes:
\begin{table}[H]
	\centering
		\begin{tabular}{|c|c|c|c|}
			\hline
			Software & Version & Release dato & Bemærkning \\ \hline
			Webapplikation & xxx & &\\ \hline
			Opdater position & Rev. 302 & 20/05-2013 & \\ \hline
			Tilpas orientering & Rev. 354 & 20/05-2013 & \\ \hline
		\end{tabular}
	\caption{Software}
\end{table}

Hardware der skal testes:
\begin{table}[H]
	\centering
		\begin{tabular}{|c|c|c|c|}
			\hline
			Hardware & Version & Release dato & Bemærkning \\ \hline
			Højdemåler & Rev. 172 & 20/05-2013 &  \\ \hline
			3G modul & Rev. 172 & 20/05-2013 &  \\ \hline
			Opdater position & Rev. 296 & 20/05-2013 &  \\ \hline
			Tilpas orientering & Rev. 172 & 20/05-2013 &  \\ \hline
		\end{tabular}
	\caption{Hardware}
\end{table}


\section*{Testprocedure}
De individuelle use cases og scenarier i kravspecifikationen testes i enkelte test cases med testdata som angivet for test casen. 

\begin{itemize}
	\item Hvis et teststep gennemføres fejlfrit markeres dette med ”Godkendt” i feltet ”resultat” for testen. for det pågældende test step.

	\item Hvis et teststep gennemføres med ubetydelige fejl, markeres dette med ”(OK)” i feltet ”resultat” for det pågældende test step, samt evt. en henvisning til en fejlrapport hvori fejlen beskrives.
	
	\item Hvis et teststep gennemføres med betydelige fejl, markeres dette med en henvisning (”1”, ”2”, ”3”,…) til en fejlrapport, som udarbejdes med en beskrivelse af fejlen.
	
\end{itemize}
Det overordnede testresultat angives på sidste side i dette dokument. Ved kundens og projektgruppens underskrift på samme side godkendes det af begge parter, at testresultatet er som angivet.

\newpage

\section{Test case 1: Start drone}
Use case under test: UC 1: Start drone.\\
Forudsætninger:	Ingen.

\textbf{Hovedscenarie}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			1 & Bruger tilslutter batteri og dronen tændes. & Systemet tilføres forsyning. Arduino bootes og ESC'er signalerer de er flyveklar. &   \\ \hline
			2 & 3G/GPS initialiseres og GPS position opdateres. & Nuværende GPS position opdateres. &   \\ \hline
			3 & Forbindelse fra drone til webapplikation oprettes. & Fra webapplikation vises at drone er connected. &  \\ \hline
			4 & Dronens nuværende GPS position sendes til webapplikation. & På webapplikation vises dronens nuværende position. &  \\ \hline
		\end{tabular}
\end{table}

\textbf{Extension 1: Forbindelse kan ikke oprettes.}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			a & Systemet indikerer fejl og derfor genstart bruger systemet. & Systemet genstartes og forbindelsen oprettes. & \\ \hline
		\end{tabular}
\end{table}

\newpage
\section{Test case 2: Ny flyveopsætning}
Use case under test: UC 2: Ny flyveopsætning.\\
Forudsætninger:	Bruger er oprettet i systemet og UC\#1 er succesfuld gennemført.

\textbf{Hovedscenarie}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			1 & Bruger logger på webapplikation. & Login lykkes, og webapplikations forside vises. &  \\ \hline
			3 & Fra forsiden navigerer bruger til flyveopsætning. & Flyveopsætnings siden vises. & \\ \hline
			4 & Bruger laver en ny flyveopsætning og vælger: \newline
				- GPS lokationer der skal flyves til. \newline
				- Om der skal tages billeder ved de valgte lokationer. \newline
				- Højde billeder skal tages fra. \newline
				- Generel flyvehøjde.				
				 & Flyveopsætning klargjort & \\ \hline
			5 & Flyveopsætning sendes til drone. & Flyveopsætning sendes til drone & \\ \hline
		\end{tabular}
\end{table}

\textbf{Extension 1: Fejl i login.}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			a & Bruger føres tilbage til login. & Login kan påny forsøges. & \\ \hline
		\end{tabular}
\end{table}

\textbf{Extension 2: Der laves ikke ny flyveopsætning.}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			a & Gemt flyveopsætning bruges. & Flyveopsætning klargjort. & \\ \hline
		\end{tabular}
\end{table}

\newpage

\section{Test case 3: Flyv til position}
Use case under test: UC 3: Flyv til position.\\
Forudsætninger:	UC\#1 og UC\#2 er succesfuld gennemført.

\textbf{Hovedscenarie}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			1 & Nuværende position opdateres. & Ingen handling  &  \\ \hline
			2 & Flyvehøjde tilpasses. & Flyvehøjde justeres &  \\ \hline
			3 & Flyveorientering tilpasses. & Orientering justeres &  \\ \hline
			4 & Drone flyver mod ønsket position. & Drone nærmer sig ønsket position  &  \\ \hline
		\end{tabular}
\end{table}

\textbf{Extension 1: Ugyldig GPS koordinat.}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			a & Drone går i fejlmode \#1. & Forsøger at finde gyldig GPS koordinat, mislykkes dette lander dronen. & \\ \hline
		\end{tabular}
\end{table}

\textbf{Extension 2: Ugyldig flyvehøjde.}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			a & Drone går i fejlmode \#2. & Forsøger at finde gyldig flyvehøjde, mislykkes dette lander dronen. & \\ \hline
		\end{tabular}
\end{table}

\newpage

\section{Test case 4: Billede af position}
Use case under test: UC 4: Billede af position.\\
Forudsætninger:	UC\#1, UC\#2 og UC\#3 er succesfuld gennemført.

\textbf{Hovedscenarie}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			1 & Drone tager et billede af nuværende position. & Kamera aktiveres og der tages et billede. & \\ \hline
			2 & Billedet sendes til webapplikation. & Billedet sendes til webapplikation bliver tilgængelig på webapplikationen &  \\ \hline
			3 & Bruger giver accept af billedet via webapplikation. & Billedet gemmes i database  & \\ \hline
			4 & Drone modtager information om næste GPS lokation & Drone påbegynder flyvning mod næste GPS lokation. & \\ \hline

		\end{tabular}
\end{table}


\textbf{Extension 1: Bruger beder om nyt billede.}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			a & Drone instrueres til at ændre flyvehøjde, orientering eller position. UC4 genstartes. & Flyvehøjde, orientering eller position ændres. & \\ \hline
		\end{tabular}
\end{table}

\textbf{Extension 2: Bruger svarer ikke inden for tidsgrænsen.}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			a & Drone får automatisk tildelt accept. & Drone påbegynder flyvning mod næste GPS lokation. & \\ \hline
		\end{tabular}
\end{table}

\newpage
\section{Test case 5: Vis tidligere flyvning}
Use case under test: UC 5: Vis tidligere flyvning.\\
Forudsætninger:	Bruger er oprettet i systemet.

\textbf{Hovedscenarie}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			1 & Bruger logger på webapplikation. & Login lykkes og webapplikations forside vises. &  \\ \hline
			2 & Fra forsiden navigerer bruger til historik. & En oversigt over tidligere flyvninger vises. & \\ \hline
			3 & Bruger vælger en specifik tidligere flyvning. &  Billeder, video og flyverute tilhørende valgte flyvning vises. & \\ \hline			
		\end{tabular}
\end{table}

\textbf{Extension 1: Fejl i login.}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			a & Bruger føres tilbage til login. & Login kan påny forsøges. & \\ \hline
		\end{tabular}
\end{table}

\section{Test case 6: Anti kollision}
Use case under test: UC 6: Anti kollision.\\
Forudsætninger:	UC\#3 er igangværende.

\textbf{Hovedscenarie}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			1 & Anti kollisions system detekterer en forhindring. & Bremser dronens fremdrift. &  \\ \hline
			3 & Undvigelsesmanøvre udføres. & Drone passere forhindring og flyver videre. & \\ \hline			
		\end{tabular}
\end{table}

\textbf{Extension 1: Forhindringen kan ikke undviges.}
\begin{table}[H]
	\centering
		\begin{tabular}{|l|p{5 cm}|p{5 cm}|p{3.5 cm}|} 
		\hline
			Step & Handling & Forventet resultat & Resultat\\ \hline
			a & Drone går i fejlmode \#3. & Forsøger at finde måde at passere forhindring, mislykkes dette lander dronen.. & \\ \hline
		\end{tabular}
\end{table}


